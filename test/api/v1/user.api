syntax = "v1"

type (
    UserListRequest {
        PageListRequest
        Name string `form:"name"` // 姓名
    }

    UserListResponse {
        Data []UserList `json:"data"` // 用户数据
        Total int `json:"total"` // 总条数
    }

    UserList {
        ID int `json:"id"`
        Name string `json:"name"` // 姓名
    }

    AddUserRequest {
        Name string `json:"name"` // 姓名
    }

    EditUserRequest {
        PathID
        AddUserRequest
    }
)


@server(
    jwt: Auth
    group: user
    middleware: someMiddleware
    prefix: /v1
    swtags: "用户相关"
)


service someapp {
    @doc "获取所有用户信息"
    @handler getUserList
    get /user (UserListRequest) returns (UserListResponse)

    @doc "获取用户信息"
    @handler getUser
    get /user/:id (PathID) returns (UserList)

    @doc "添加用户信息"
    @handler addUser
    post /user (AddUserRequest)

    @doc "编辑用户信息"
    @handler editUser
    put /user/:id (EditUserRequest)

    @doc "删除用户信息"
    @handler deleteUser
    delete /user/:id (PathID)
}
